<template>
<main class="help">
    <section class="hero-section" :style="{ backgroundImage: 'url(' + require('@/assets/img/help-hero.png') + ')' }">    
        <header>
            <HeaderLight/>    
        </header>
        <div class="container is-fluid hero-section-inner">
            <div class="columns">
                <div class="column">
                    <h2>The true weight of the flake</h2>
                    <h1 id="split" class="split-text">Helplessness</h1>
                    <p>Taking control of dandruff feels like an impossible task. From believing that it’s down to bad luck or genetics, sufferers are quick to cover the problem rather than take control head on…
                    </p>
                </div>
            </div>
        </div>
        <div class="header__scroll_info">
            <div class="header__scroll_info_container">
                <span>Discover</span>
                <br>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 8"><line class="st0" x1="14" y1="1" x2="7.5" y2="7"></line><line class="st0" x1="1" y1="1" x2="7.5" y2="7"></line></svg>
            </div>
        </div>
    </section>   
     <section class="info-intro">
        <div class="container">
            <div class="columns">
                <div class="column is-7">
                    <div class="info-intro-item">
                        <div class="info-intro-item-group">                            
                            <img alt="Flaking it" src="../assets/img/help-sufferers.svg"  class="topsvg">                            
                            <div class="info-intro-item-copy">
                                <h5 id="split" class="split-text">The luck of the dandruff draw</h5>
                                <h4 class="gradient-text">SUFFERERS ADMIT TO FEELING HELPLESS IN FIGHT AGAINST FLAKES</h4>
                            </div>
                        </div>
                    </div>
                    <div class="info-intro-item">
                        <div class="info-intro-item-group">                           
                            <img alt="Flaking it" src="../assets/img/help-burden.svg"  class="topsvg">
                           <div class="info-intro-item-copy">
                                <h5 id="split" class="split-text">FOR SUFFERERS, SMALL FLAKES WITH MIGHTY FORCE DANDRUFF REVEALED</h5>
                                <h4 class="gradient-text">AS A LIFELONG BURDEN</h4>
                            </div>
                        </div>
                    </div>
                    <div class="info-intro-item">
                        <div class="info-intro-item-group">                           
                            <img alt="Flaking it" src="../assets/img/help-adopted.svg"  class="topsvg">
                           <div class="info-intro-item-copy">
                                <h5 id="split" class="split-text">BUCKET, BEANIE OR BERET</h5>
                                <h4 class="gradient-text">OUT OF SIGHT, OUT OF MIND SOLUTION ADOPTED</h4>
                                <h5>BY DANDRUFF SUFFERERS ALL YEAR ROUND</h5>
                            </div>
                        </div>
                    </div>
                    <div class="info-intro-item quotestroke">
                        <h2 class="stroke-text split-text" id="split">"It's tiring, having to deal with it on a daily basis"</h2>
                    </div>                    
                </div>
                <div class="column is-5">
                    <div class="bluebg">
                        <h2 class="stroke-text">Double Down</h2>                        
                        <h4><span>Dandruff sufferers are more likely to also deal with</span> additional skin condition</h4>
                        <img alt="Flaking it" src="../assets/img/flaking2.png"  class="flakingit">
                    </div>
                </div>
            </div>
        </div>
     </section>
     <section class="testimonials inner-testimonials">
      <div class="container">
            <div class="expertarea">
                <img alt="Four Group" src="../assets/img/kristinagorbatenkoroth.png" class="expertimg">
            </div>
            <img alt="Dr Alia Ahmed Quote" src="../assets/img/quotes.png"  class="quoteimg">
            <p id="split-testimonial" class="split-text">
            This research study has given us such a deep insights into how people are so directly affected by their dandruff, that we can now understand and sympathise with them that they have felt they have nowhere left to turn, so it’s exciting to see how we can use this moving forward to help more sufferers become managers and to create positive change.”
            </p>        
            <p class="testimonial-author">Dr. Kristina Gorbatenko-Roth</p>
        </div>
        <div class="textright">
            <h3>Helplessness</h3>
        </div>
    </section>
     <section class="info-intro">
         <div class="container">             
            <div class="columns info-items">
                <div class="column">
                    <p>Sufferers feel like their dandruff is <span>Always in sight </span> <img alt="Four Group" src="../assets/img/onefour.png">
                    <br/><span class="cell figure"><span class="largetxt">25</span></span><span>% </span>of people wear a hat or head covering more than  
                     <span class="cells figures">50</span><span>% of the time</span>
                    </p>
                </div>
                <div class="column">
                    
                    <p><span class="largetxt">Half</span>   <progress id="progressbar"  value="0" max="100"></progress>
 <br> of these people see flakes in their hair everyday which is <span>Twice as much as</span> people who manage their dandruff already.
                    </p>
                </div>
            </div>
            <div class="columns info-items two-col-mixed">
                <div class="column is-8">
                    <div class="col-mixed-group bordered">
                        <div class="col-mixed-item">
                            <div>
                                <p><span class="largetxt">+6 in  </span>
                                <span class="cell figure"><span class="largetxt">10</span></span>
                                <br> of skin disease sufferers say that their issue frequently makes them <span>Feel Helpless</span>
                                </p>
                                <img alt="Four Group" src="../assets/img/sixten.png">
                             </div>
                        </div>
                        <div class="col-mixed-item">
                             <div>
                                <p><span class="cell figure"><span class="largetxt">50</span></span><span>%</span><br> 
                                of severe and moderate dandruff sufferers believe they have dandruff due to 
                                <span>Genetics</span> and <span>38%</span> believe it's due to <span>bad luck</span>
                                </p>
                             </div>
                        </div>
                    </div>
                </div>
                <div class="column is-4">
                    <p><span>Its not only dandruff that they suffer with</span></p>
                    <div class="col-mixed-group cond">
                        <div class="col-mixed-item">
                            <img alt="Flaking it" src="../assets/img/acne.png"  class="flakingit">
                            <p><span>Acne</span><br>(2X)</p>
                        </div>
                        <div class="col-mixed-item">
                            <img alt="Flaking it" src="../assets/img/alopecia.png"  class="flakingit">
                            <p><span>Alopecia</span><br>(3X+)</p>
                        </div>
                        <div class="col-mixed-item">
                            <img alt="Flaking it" src="../assets/img/psoriasis.png"  class="flakingit">
                            <p><span>Psoriasis</span><br>(5X+)</p>
                        </div>
                        <div class="col-mixed-item">
                            <img alt="Flaking it" src="../assets/img/eczema.png"  class="flakingit">
                            <p><span>Eczema</span><br>(3X)</p>
                        </div>
                    </div>

                </div>
            </div>
            <div class="columns info-items">                
                <div class="column">
                    <p><span class="largetxt">1 in 2</span> of these sufferers belive that dandruff has impacted <span>their whole life</span> </p>
                </div>
                <div class="column is-1 icon-top">
                     <img alt="Four Group" src="../assets/img/teens-change.svg" class="topsvg">
                </div>
                <div class="column">
                    <p>For <span class="largetxt">6 in  </span><span class="cells figures"><span class="largetxt">10</span></span> of sufferers, Dandruff has been <span>Lifelong Condition</span></p>
                </div>
                <div class="column is-1 icon-top">
                     <img alt="Four Group" src="../assets/img/group6.png" class="topsvg">
                </div>
                 <div class="column is-1 icon-last">
                     <img alt="Four Group" src="../assets/img/group5.png" class="topsvg">
                </div>
                <div class="column">
                    <p><span class="cell figure"><span class="largetxt">60</span></span><span class="largetxt">%</span> of people say that their skin condition sometimes makes them <span>Feel useless</span>
                    </p>
                </div>
               
            </div>
        </div>
    </section>
    <section class="testimonials inner-testimonials">
      <div class="container">
            <div class="expertarea">
                <img alt="Four Group" src="../assets/img/expert.png" class="expertimg">
            </div>
            <img alt="Dr Alia Ahmed Quote" src="../assets/img/quotes.png"  class="quoteimg">
            <p id="split-testimonial" class="split-text">
            As dandruff is a ‘common’ issue, it has almost become less important to tackle. Trivialising the impact further compounds this and people with dandruff start to feel helpless about their situation. It is not felt ‘serious’ enough to visit a healthcare professional and some can feel that the use of over the counter products attract some stigma just by their use. For those people experiencing lack of improvement in signs of dandruff, this becomes a journey of helplessness (‘nothing works’), which ultimately leads to hopelessness (‘nothing will ever work’). It is so important to increase awareness of the plethora of treatment options for people with dandruff across the spectrum (from the right over the counter products to medicinal and cosmeceutical treatment) to break this cycle of helplessness and hopelessness.
            </p>        
            <p class="testimonial-author">Dr. Alia Ahmed</p>
        </div>
        <div class="textright">
            <h3>Helplessness</h3>
        </div>
    </section>

    <section class="info-footer">
        <div class="container">
            <div class="columns">
               <div class="column is-7 bluebg">
                    <h3>Let Head & Shoulders help you to take control of dandruff flakes and fight back. With expert psycho-dermatologist advice and the world’s number one
                        shampoo, you’ll be able to shake the weight of flakes so that you can live life to the full, every day.
                    </h3>
                </div>
                <div class="column">
                    <h2 class="stroke-text">"Always feel self conscious and feel like I need to cover my hair."</h2>
                </div>
            </div>
        </div>
    </section>
    <Footer/>
</main>
</template>

<script>
import HeaderLight from '../components/HeaderLight.vue'
import Footer from '../components/Footer.vue'

import { gsap } from "gsap";
import { ExpoScaleEase, RoughEase, SlowMo } from "gsap/EasePack";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import { CustomEase } from "gsap/CustomEase";
import { DrawSVGPlugin } from "gsap/DrawSVGPlugin";
import { SplitText } from "gsap/SplitText";

gsap.registerPlugin(ScrollTrigger, CustomEase, DrawSVGPlugin, SplitText, ExpoScaleEase, RoughEase, SlowMo);


export default {
  name: 'Help',
  components: {
    HeaderLight,    
    Footer
  },
  props: {
    msg: String
  },
  methods: {
  },
mounted() { 

    gsap.utils.toArray(".cell").forEach((elem) => {
        gsap.timeline({
            scrollTrigger: {
            trigger: elem,
            start: 'top center',
            end: "bottom center",
            scrub: true,
            // onToggle: self => gsap.to(elem, {opacity: self.isActive ? 1 : 0}),
            toggleActions: "play none none none",
            markers:true
            },            
        })
        .from(".figure span", {duration: 2,  ease:"none",  innerHTML:"0", roundProps:"innerHTML", }, "<");
        });

       

    gsap.utils.toArray("#progressbar").forEach((elem) => {
        gsap.timeline({
            scrollTrigger: {
            trigger: elem,
            start: 'top 80%',
            end: 'top 70%',
            scrub: 3,
            // onToggle: self => gsap.to(elem, {opacity: self.isActive ? 1 : 0}),
            toggleActions: "restart none none none",
            },
             snap: {
                snapTo: "labels", // snap to the closest label in the timeline
                duration: 13, // the snap animation should be at least 0.2 seconds, but no more than 3 seconds (determined by velocity)
                delay: 12, // wait 0.2 seconds from the last scroll event before doing the snapping
                ease: "power2.inOut" // the ease of the snap animation ("power3" by default)
            }
        })
        .to(elem, 2, {value: 50, ease: "power2.easeInOut"})
        });
      
       

        
      gsap.utils.toArray(".flakingit").forEach((elem) => {
        gsap.timeline({
            scrollTrigger: {
            trigger: elem,
            start: 'top 80%',
            end: 'top 55%',
            scrub: 3,
            // onToggle: self => gsap.to(elem, {opacity: self.isActive ? 1 : 0}),
            toggleActions: "restart none none none",
            },
            snap: {
                snapTo: "labels", // snap to the closest label in the timeline
                duration: 13, // the snap animation should be at least 0.2 seconds, but no more than 3 seconds (determined by velocity)
                delay: 2, // wait 0.2 seconds from the last scroll event before doing the snapping
                ease: "power1.inOut" // the ease of the snap animation ("power3" by default)
            }         
        })
        .from(elem, {scale: 0.1, rotation:45, opacity: 0, autoAlpha:0})
        });


       gsap.utils.toArray(".topsvg").forEach((elem) => {
        gsap.timeline({
            scrollTrigger: {
            trigger: elem,
            start: 'top 80%',
            end: 'top 55%',
            scrub: 3,
            // onToggle: self => gsap.to(elem, {opacity: self.isActive ? 1 : 0}),
            toggleActions: "restart none none none",
            },
             snap: {
                snapTo: "labels", // snap to the closest label in the timeline
                duration: 13, // the snap animation should be at least 0.2 seconds, but no more than 3 seconds (determined by velocity)
                delay: 12, // wait 0.2 seconds from the last scroll event before doing the snapping
                ease: "power1.inOut" // the ease of the snap animation ("power3" by default)
            }
        })
        .from(elem, {scale: 0.3, rotation:365, opacity: 0})
        });

        
    gsap.utils.toArray("#split").forEach(function(elem) {
        const splitTimeline = gsap.timeline({scrollTrigger: {
            trigger: elem,
            start: "top 80%",
            end: "bottom 10%",
            onToggle: self => gsap.to(elem, {opacity: self.isActive ? 1 : 0}),
            toggleActions: "restart none none none",
            }
        });

        const splitTitle = new SplitText(elem);
            splitTimeline.from(splitTitle.chars, {duration: 2.5, opacity: 0, y: 0, stagger: {amount: 1}, ease: "back.out(1)", overwrite: "auto"});
        });

        gsap.utils.toArray("#split-testimonial").forEach(function(elem) {
        const splitTimeline = gsap.timeline({scrollTrigger: {
            trigger: elem,
            start: "top 80%",
            end: "bottom 10%",
            onToggle: self => gsap.to(elem, {opacity: self.isActive ? 1 : 0}),
            toggleActions: "restart none none none",
            }
        });

        const splitTitle = new SplitText(elem, {type:"words"});
            splitTimeline.from(splitTitle.words, {duration: 2.5, opacity: 0, y: 0, stagger: {amount: 1}, ease: "back.out(1)", overwrite: "auto"});
        });
    
    // }
}
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style  lang="scss">
    .help {    
        header {
            nav {
                &.main-nav {
                ul {
                    li {
                    a {
                        color:$mediumblue;
                    }
                    }
                }
                }
            }
        }
    }
   
    .hero-section {
        background-position: left center;
        .hero-section-inner {
            p {
                max-width:40%;
            }
        }        
    }
    .testimonials {
        .textright {
            h3 {
                transform: rotate(-90deg) translateX(90%);
            }
        }
    }
    .info-intro {        
        .bluebg {
            padding-bottom:0;
            h2 {
                max-width: 100%;     
                margin-bottom:1rem;           
            }
            h4 {
                font-size:2.5rem;
            }
            img {
                margin-top:1rem;
            }
        }
    }
    .col-mixed-group {
        display:flex;
        flex-wrap:wrap;
        &.bordered {
            border:1px solid $grey;
            padding:2rem;
        }
        .col-mixed-item {
            flex-basis: 50%;
            display:flex;
            align-items: center;
            justify-content: flex-start;
            margin-bottom: 1rem;
            padding:0 2rem;
            img {
                max-height: 80px;
            }                       
        }
        &.cond {
            .col-mixed-item {
                padding:0;
            }
            p {
                font-size:1.2rem;
                padding-left:1rem;
                span {
                    font-size:1.2rem;
                }
            }
        } 
    }
    .two-col-mixed {
        display:flex;
        align-items: center;
        justify-content: center;
    }

   
</style>
